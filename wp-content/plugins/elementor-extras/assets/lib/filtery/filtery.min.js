!function(t,e,i,n){t.filtery=function(n,l){var o={wrapper:null,filterables:".filterable",activeFilterClass:"active",notFound:null},r=this;r.opts={};var a=t(e),f=(t(i),t(n)),s=null,u=null,d=null,c=null,p=0,h=0,v=null;r.init=function(){r.opts=t.extend({},o,l),r._construct()},r._construct=function(){if(d=t(r.opts.wrapper),!d.length)return void console.log("Cannot find filterable items wrapper");s=f.find("[data-filter]"),c=d.find(r.opts.filterables),u=null===r.opts.notFound?t(".not-found"):r.opts.notFound,r.setup(),r.events()},r.setup=function(){v=s.filter("."+r.opts.activeFilterClass).data("filter"),r.applyFilter(v),r.updateCount(),p=d.outerHeight(),h=p},r.events=function(){s.on("click",r.onClick)},r.updateCount=function(){s.each(function(){var e=t(this),i=e.find(".ee-filters__item__count"),n=e.data("filter"),l=c.filter(n);i.html(l.length)})},r.onClick=function(e){var i=t(e.target),n=i.data("filter");v!==n&&(r.applyFilter(n),v=n)},r.applyFilter=function(t){if(t){p=h,c=d.find(r.opts.filterables);var e=c.filter(t),i=s.filter('[data-filter="'+t+'"]');c.filter(":not("+t+")").hide(),s.removeClass(r.opts.activeFilterClass),e.show(),i.addClass(r.opts.activeFilterClass),h=d.outerHeight(),u.length&&(e.length?u.hide():u.show()),p!==h&&a.trigger("resize"),r.updateCount()}},r.update=function(){r.applyFilter(v)},r.destroy=function(){s.off("click",r.onClick)},r.init()},t.fn.filtery=function(e){return this.each(function(){if(t.fn.filtery.destroy=function(){void 0!==i&&(t(this).data("filtery").destroy(),t(this).removeData("filtery"))},t.fn.filtery.update=function(){void 0!==i&&t(this).data("filtery").update()},void 0===t(this).data("filtery")){var i=new t.filtery(this,e);t(this).data("filtery",i)}})}}(jQuery,window,document);