!function(o,e,t,n){o.unfold=function(n,s){var l={scope:o(e),text_closed:"Read more",text_open:"Read less",isolate:!0,duration_unfold:.5,duration_fold:.5,easing_unfold:"easeInOut",easing_fold:"easeInOut",animation_unfold:"Power4",animation_fold:"Power4",steps_unfold:10,steps_fold:10,slow_unfold:10,slow_fold:10,visible_lines:!1,visible_percentage:100,focusOnClose:!1,focusOnOpen:!1},a=this;a.opts={};var d=null,f=null,u=o(n),p=u.find(".ee-unfold__content"),r=u.find(".ee-unfold__mask"),c=u.find(".ee-unfold__separator"),_=u.find(".ee-unfold__trigger"),h=_.find(".ee-button"),m=h.find(".ee-button-text"),g=h.find(".ee-unfold__icon--closed"),v=h.find(".ee-unfold__icon--open"),w=-1,b=0,y=!1,O=null,T=0,x=!1;a.init=function(){a.opts=o.extend({},l,s),a._construct()},a._construct=function(){d=a.opts.scope,f=o("body"),w=d.width(),a.setup(),a.events()},a.hexToRgba=function(o,e){var t=parseInt(o.slice(1,3),16),n=parseInt(o.slice(3,5),16),i=parseInt(o.slice(5,7),16);return e?"rgba("+t+", "+n+", "+i+", "+e+")":"rgb("+t+", "+n+", "+i+")"},a.setup=function(){a.update()},a.events=function(){d.on("resize",function(){o(this).width()===w||x||a.setup(),w=o(this).width()}),h.on("click",function(){!0===x?a.close():a.open()})},a.onScroll=function(){b=d.scrollTop(),a.requestTick()},a.requestTick=function(){y||(O=requestAnimationFrame(a.update)),y=!0},a.getLineHeight=function(o){var n=e.getComputedStyle(o),i=null,s=t.createElement(o.nodeName);return s.setAttribute("style","margin:0px;padding:0px;font-family:"+n.fontFamily+";font-size:"+n.fontSize),s.innerHTML="test",s=o.parentNode.appendChild(s),i=s.clientHeight,s.parentNode.removeChild(s),i},a.update=function(){_.show();var t=p.find("> *");if(!1!==a.opts.visible_lines){var n=0;T=0,t.each(function(t){if(n<a.opts.visible_lines){var s=a.getLineHeight(this),l=o(this).outerHeight()/s,d=e.getComputedStyle(this);if(l>1&&isFinite(l)){var f=0;for(i=1;i<=l;i++)n<a.opts.visible_lines&&(T+=s,n++,f++);f===l&&(T+=parseInt(d.marginTop)+parseInt(d.marginBottom))}else T+=o(this).outerHeight(!0),n++}})}else T=a.opts.visible_percentage*p.outerHeight(!0)/100;x=!1,p.outerHeight(!0)-1<=T&&_.hide(),r.css({height:T})},a.destroy=function(){a.clearProps(),cancelAnimationFrame(O),d.off("scroll",a.onScroll),$item.removeData("unfold")},a.open=function(){var e=new TimelineLite({onComplete:function(){x=!0,m.html(a.opts.text_open),v.length&&(g.css("display","none"),v.css("display","inline-block"))}}),t=d.scrollTop(),n=0,i=d[0][a.opts.animation_unfold];"SlowMo"===a.opts.animation_unfold?i=i.config(a.opts.slow_unfold,.7,!1):"SteppedEase"===a.opts.animation_unfold?i=i.config(a.opts.steps_unfold):a.opts.easing_unfold&&(i=i[a.opts.easing_unfold]),e.add("open").to(r,a.opts.duration_unfold,{height:p.outerHeight(!0),ease:i,clearProps:"all"},"open").to(c,a.opts.duration_unfold/3,{autoAlpha:0,ease:Power1.easeIn},"-=0.1"),a.opts.focusOnOpen&&("top"===a.opts.focusOnOpen?n=p.offset().top:"scroll"===a.opts.focusOnOpen&&(n=t),o("html, body").animate({scrollTop:n},1e3*a.opts.duration_unfold))},a.close=function(){var e=new TimelineLite({onComplete:function(){x=!1,m.html(a.opts.text_closed),v.length&&(g.css("display","inline-block"),v.css("display","none"))}}),t=d[0][a.opts.animation_fold];"SlowMo"===a.opts.animation_fold?t=t.config(a.opts.slow_fold,.7,!1):"SteppedEase"===a.opts.animation_fold?t=t.config(a.opts.steps_fold):a.opts.easing_fold&&(t=t[a.opts.easing_fold]),e.add("close").to(c,a.opts.duration_fold/3,{autoAlpha:1,ease:Power1.easeOut},"close").to(r,a.opts.duration_fold,{height:T,ease:t},"-=0.1"),a.opts.focusOnClose&&o("html, body").animate({scrollTop:p.offset().top},1e3*a.opts.duration_fold)},a.init()},o.fn.unfold=function(e){return this.each(function(){if(o.fn.unfold.destroy=function(){void 0!==t&&(o(this).data("unfold").destroy(),o(this).removeData("unfold"))},void 0===o(this).data("unfold")){var t=new o.unfold(this,e);o(this).data("unfold",t)}})}}(jQuery,window,document);